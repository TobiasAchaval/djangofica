{% extends 'base.html' %}

{% block contenido %}
  <h1>Tienda</h1>

  <!-- Filtro por categoría -->
  <div>
    <h3>Filtrar por categoría:</h3>
    <ul>
      {% for categoria in categorias %}
        <li>
          <a href="?categoria={{ categoria.id }}">{{ categoria.nombre }}</a>
        </li>
      {% endfor %}
    </ul>
  </div>

  <!-- Mostrar productos -->
  <h2>Productos</h2>
  {% if productos %}
    <ul>
      {% for producto in productos %}
        <li>
          <strong>{{ producto.nombre }}</strong><br>
          Descripción: {{ producto.descripcion }}<br>
          Precio: ${{ producto.precio }}<br>
          Categoría: {{ producto.subcategoria.categoria.nombre }}<br>
          {% if producto.imagen %}
            <img src="{{ producto.imagen.url }}" alt="{{ producto.nombre }}" width="100">
          {% endif %}
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p>No hay productos disponibles en esta categoría.</p>
  {% endif %}
{% endblock %}
